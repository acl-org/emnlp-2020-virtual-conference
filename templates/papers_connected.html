{% extends "base.html" %}
{% set active_page = "Papers" %}
{% set page_title = "Paper Explorer" %}

{% block tabs %}

<ul class="nav nav-tabs justify-content-center">
  <li class="nav-item">
    <a class="nav-link" href="papers.html">Browse</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="papers_vis.html">Visualization</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="papers_keyword_vis.html">Browse Keywords</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="papers_connected.html">Connected Papers</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="papers.html?showFavs=1" id="tabFavs"><i class="fas fa-star"></i> Favorites</a>
  </li>
</ul>

{% endblock %}



{% block body %}
<div class="slp">
  <iframe id="frame" width="99%" src="" >
  </iframe>
</div>
<script type="text/javascript">
  function getUrlParameter(name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
    var results = regex.exec(location.search);
    return results === null
      ? ""
      : decodeURIComponent(results[1].replace(/\+/g, " "));
  }

  $(document).ready(function () {
    console.log("run");
    var win_height;
    var frm_height;
    var oFrame = $("#frame");
    console.log(oFrame);
    // Get page height Firefox/IE
    if (window.innerHeight) {
      win_height = window.innerHeight;
    }
    else if (document.body.clientHeight) {
      win_height = document.body.clientHeight;
    }

    // Dtermine new height
    frm_height = win_height - oFrame.offset().top - 15; // replace 15 accordingly

    // Set iframe height
    oFrame.attr("height", frm_height + "px");

    oFrame.attr(
      "src",
      "https://site.beta.connectedpapers.com/conference/EMNLP2019/2b01e6552cc929e1727fc145db82a252b3294c89/graph"
    );
  });
</script>
{% endblock %}
